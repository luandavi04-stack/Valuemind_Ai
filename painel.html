<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>ValueMind AI - Painel Admin</title>
    <style>
        :root { --bg: #0f0f0f; --card: #1a1a1a; --gold: #d4af37; --green: #2ecc71; --red: #e74c3c; --white: #fff; }
        body { font-family: sans-serif; background: var(--bg); color: var(--white); margin: 0; display: flex; }
        .sidebar { width: 220px; background: var(--card); height: 100vh; padding: 20px; border-right: 1px solid #333; }
        .main { flex: 1; padding: 40px; }
        .stats { display: flex; gap: 20px; margin-bottom: 30px; }
        .stat-card { background: var(--card); padding: 15px; border-radius: 8px; flex: 1; border-top: 4px solid var(--gold); }
        .game-card { background: var(--card); padding: 20px; border-radius: 8px; margin-bottom: 15px; display: flex; justify-content: space-between; border-left: 4px solid var(--gold); }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .btn-approve { background: var(--green); color: white; }
        .btn-reject { background: var(--red); color: white; margin-right: 10px; }
        .badge { background: rgba(212,175,55,0.2); color: var(--gold); padding: 5px; border-radius: 4px; font-size: 12px; }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2 style="color:var(--gold)">ValueMind AI</h2>
        <p>Dashboard</p>
        <p>Histórico (Privado)</p>
        <p>Configurações</p>
    </div>
    <div class="main">
        <div class="stats"> <div class="stat-card"><h4>Assertividade</h4><h2>80%</h2></div>
            <div class="stat-card" style="border-top-color: var(--green)"><h4>Greens</h4><h2>12</h2></div>
            <div class="stat-card" style="border-top-color: var(--red)"><h4>Reds</h4><h2>3</h2></div>
        </div>
        <h2>Jogos para Amanhã</h2>
        <div class="game-card">
            <div>
                <span class="badge">Confiança 92%</span>
                <h3>Real Madrid vs Barcelona</h3>
                <p>Mercado: Over 2.5 Gols | Odd: 1.95</p>
            </div>
            <div>
                <button class="btn btn-reject">Rejeitar</button>
                <button class="btn btn-approve">Aprovar e Enviar Whats</button>
            </div>
        </div>
    </div>
    <script>
function processarAcao(tipo) {
    fetch('/api/acao', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({acao: tipo}) })
    .then(response => response.json())
    .then(data => {
        // Aqui ele troca o nome do jogo e a odd na sua tela automaticamente
        document.querySelector('h3').innerText = data.jogo; 
        document.querySelector('p').innerText = "Mercado: Over 2.5 Gols | Odd: " + data.odd;
        alert(tipo === 'aprovar' ? "Sinal enviado com sucesso!" : "Sinal descartado.");
    });
}

// Conecta os seus botões físicos às funções
document.querySelector('.btn-aprovar').onclick = () => processarAcao('aprovar');
document.querySelector('.btn-rejeitar').onclick = () => processarAcao('rejeitar');
</script>
</body>
</html>
<button id="btn-aprovar" class="sua-classe-aqui">Aprovar e Enviar</button>
<button id="btn-rejeitar" class="sua-classe-aqui">Rejeitar</button>

<script>
    const btnAprovar = document.getElementById('btn-aprovar');
    const btnRejeitar = document.getElementById('btn-rejeitar');

    function atualizarSinal() {
        fetch('/api/acao', { method: 'POST' })
            .then(res => res.json())
            .then(data => {
                // Isso muda o nome do jogo na tela (ajuste a tag se necessário)
                document.querySelector('h3').innerText = data.jogo;
                // Isso muda a odd na tela
                document.querySelector('p').innerText = "Mercado: Over 2.5 Gols | Odd: " + data.odd;
                console.log("Novo sinal gerado: " + data.jogo);
            })
            .catch(err => alert("Erro ao conectar com o servidor."));
    }

    btnAprovar.onclick = () => {
        alert("Sinal Enviado!");
        atualizarSinal();
    };

    btnRejeitar.onclick = () => {
        atualizarSinal();
    };
</script>

